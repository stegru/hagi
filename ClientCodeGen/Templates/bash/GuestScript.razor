@using System
@using System.IO
@inherits GuestScriptTemplate
@{
    const string prefix = "#@include:";
    foreach (string line in File.ReadAllLines(this.RelativePath("hagi-guest.template.sh")))
    {
        if (line.StartsWith(prefix))
        {
            string id = line.Substring(prefix.Length);
            switch (id)
            {
                case "Help":
                    this.Include<HelpTemplate>(this.AllRequests);
                    break;
                case "BuildRequest":
                    this.Include<BuildRequestTemplate>(this.AllRequests);
                    break;

                case "OptionNames":
                    this.Include<OptionNamesTemplate>(this.AllRequests);
                    break;
            }
        }
        else
        {
            this.WriteLiteral(line);
            this.WriteLiteral("\n");
        }
    }
}